<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Edel White - Boas Festas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --swiss-red:#f9423a;
      --card-ice:#f5f8ff;
      --text-main:#0f172a;
      --text-soft:#4b5563;
    }

    *{box-sizing:border-box;margin:0;padding:0}

    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:
        radial-gradient(circle at 20% -10%, #1e293b 0, transparent 40%),
        radial-gradient(circle at 80% -10%, #0f172a 0, transparent 45%),
        radial-gradient(circle at 50% 120%, #020617 0, #020617 60%, #000 100%);
      color:var(--text-main);
      min-height:100svh;
      overflow:hidden; /* ‚úÖ sem scroll */
    }

    #fireworksCanvas{
      position:fixed; inset:0;
      z-index:0;
      pointer-events:none;
    }

    .stars{
      position:fixed; inset:0;
      background-image:
        radial-gradient(circle at 10% 15%, rgba(255, 255, 255, 0.3) 0, transparent 40%),
        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.25) 0, transparent 45%),
        radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.18) 0, transparent 50%),
        radial-gradient(circle at 60% 90%, rgba(255, 255, 255, 0.2) 0, transparent 55%);
      opacity:.24;
      mix-blend-mode:screen;
      z-index:1;
      pointer-events:none;
    }

    .scene-wrapper{
      position:relative;
      z-index:2;
      width:100%;
      height:100svh; /* ‚úÖ sempre cabe na tela */
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }

    /* ===== ENVELOPE ===== */
    .envelope-container{
      position:relative;
      width:360px;
      max-width:min(92vw, 420px);
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:14px;
      perspective:1200px;
      transition:transform .7s ease, opacity .7s ease;
    }
    .envelope-container.opened{
      transform:translateY(60px) scale(.9);
      opacity:0;
      pointer-events:none;
    }
    .envelope{
      position:relative;
      width:100%;
      height:230px;
      border-radius:24px;
      background:linear-gradient(145deg,#ff6a5f,#d81620);
      box-shadow:0 30px 70px rgba(0,0,0,.85), 0 0 0 1px rgba(255,255,255,.1);
      overflow:hidden;
      transform-style:preserve-3d;
    }
    .envelope::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 50% -40%, rgba(255, 255, 255, 0.9), transparent 60%),
        radial-gradient(circle at 0% 100%, rgba(255, 255, 255, 0.25), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255, 255, 255, 0.25), transparent 55%);
      opacity:.8;
      mix-blend-mode:screen;
      pointer-events:none;
    }
    .envelope-paper{
      position:absolute;
      left:9%; right:9%;
      bottom:10%;
      height:54%;
      background:#fdfdfd;
      border-radius:14px;
      box-shadow:0 14px 30px rgba(0,0,0,.45), 0 0 0 1px rgba(15,23,42,.05);
    }
    .envelope-base{
      position:absolute;
      inset:45% 0 0 0;
      background:linear-gradient(180deg,#f9423a,#d21b21);
    }
    .envelope-flap{
      position:absolute;
      inset:0 0 40% 0;
      background:var(--swiss-red);
      clip-path:polygon(0 0,50% 58%,100% 0,100% 100%,0 100%);
      transform-origin:top center;
      transform:rotateX(0deg);
      transition:transform .7s cubic-bezier(.19,1,.22,1);
      box-shadow:0 18px 32px rgba(0,0,0,.6);
    }
    .envelope.opened .envelope-flap{
      transform:rotateX(-160deg);
      box-shadow:0 0 0 rgba(0,0,0,0);
    }

    .swiss-cross{
      position:absolute;
      top:32%;
      left:50%;
      transform:translate(-50%,-50%);
      width:54px; height:54px;
    }
    .swiss-cross::before,.swiss-cross::after{
      content:"";
      position:absolute;
      background:#fff;
      border-radius:2px;
    }
    .swiss-cross::before{width:68%;height:22%;top:39%;left:16%;}
    .swiss-cross::after{width:22%;height:68%;top:16%;left:39%;}

    .envelope-button{
      border:none; outline:none;
      padding:11px 26px;
      border-radius:999px;
      font-size:13px;
      font-weight:800;
      letter-spacing:.16em;
      text-transform:uppercase;
      cursor:pointer;
      background:#fff;
      color:var(--swiss-red);
      box-shadow:0 10px 22px rgba(0,0,0,.6), 0 0 24px rgba(255,255,255,.9);
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition:transform .12s ease-out, box-shadow .12s ease-out, filter .12s ease-out;
    }
    .envelope-button:hover{
      transform:translateY(-1px);
      filter:brightness(1.03);
      box-shadow:0 16px 30px rgba(0,0,0,.7), 0 0 28px rgba(255,255,255,1);
    }
    .envelope-button:active{
      transform:translateY(1px) scale(.98);
      box-shadow:0 6px 14px rgba(0,0,0,.7), 0 0 16px rgba(255,255,255,.85);
    }

    /* ===== CARD WRAPPER ===== */
    .card-wrapper{
      position:fixed; inset:0;            /* ‚úÖ sempre dentro da tela */
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
      opacity:0;
      pointer-events:none;
      transition:opacity .5s ease;
      z-index:3;
    }
    .card-wrapper.visible{
      opacity:1;
      pointer-events:auto;
    }

    /* ‚úÖ card com altura m√°xima e layout ‚Äúcab√≠vel‚Äù */
  

    .card{
  position:relative;
  width:min(920px, 96vw);
  max-height:calc(100svh - 32px);
  background:var(--card-ice);
  border-radius:26px;
  padding:clamp(14px, 2.2vh, 26px) clamp(12px, 2.6vw, 30px);

  /* ‚úÖ RELEVO / 3D PREMIUM */
  box-shadow:
    0 28px 70px rgba(15,23,42,.28),      /* sombra principal (profundidade) */
    0 10px 22px rgba(15,23,42,.14),      /* sombra secund√°ria (apoio) */
    inset 0 1px 0 rgba(255,255,255,.90), /* brilho topo interno */
    inset 0 -10px 22px rgba(15,23,42,.07); /* sombra base interna */

  outline:1px solid rgba(148,163,184,.40); /* borda ‚Äúbisel‚Äù */
  outline-offset:-1px;

  backdrop-filter:blur(22px);
  transform-style:preserve-3d;
  cursor:pointer;

  overflow:hidden;
  display:flex;
  flex-direction:column;

  /* (opcional) micro ‚Äúlift‚Äù ao hover, bem sutil */
  transition:transform .35s ease, box-shadow .35s ease;
}

.card{
  position:relative;
  width:min(920px, 96vw);
  max-height:calc(100svh - 32px);
  background:linear-gradient(180deg, #ffffff 0%, #f3f6ff 100%); /* ‚úÖ mais contraste */
  border-radius:26px;
  padding:clamp(14px, 2.2vh, 26px) clamp(12px, 2.6vw, 30px);

  /* ‚úÖ RELEVO 3D FORTE (vai aparecer mesmo no branco) */
  box-shadow:
    0 40px 90px rgba(2,6,23,.35),       /* sombra grande */
    0 18px 40px rgba(2,6,23,.18),       /* sombra m√©dia */
    0 3px 10px rgba(2,6,23,.12),        /* sombra curta */
    inset 0 2px 0 rgba(255,255,255,.95),/* brilho interno topo */
    inset 0 -14px 26px rgba(2,6,23,.08);/* sombra interna base */

  border:1px solid rgba(148,163,184,.55); /* ‚úÖ borda real */
  backdrop-filter:blur(22px);

  transform-style:preserve-3d;
  cursor:pointer;
  overflow:hidden;

  display:flex;
  flex-direction:column;

  transition:transform .35s ease, box-shadow .35s ease;
}

/* ‚úÖ ‚Äúmoldura‚Äù interna (bisel) para dar cara de relevo */
.card::before{
  content:"";
  position:absolute;
  inset:10px;                 /* moldura interna */
  border-radius:calc(26px - 10px);
  border:1px solid rgba(255,255,255,.75);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.9),
    inset 0 -10px 18px rgba(2,6,23,.06);
  opacity:.95;
  pointer-events:none;
}

/* ‚úÖ Luz realista no topo (reflexo) */
.card::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:
    radial-gradient(circle at 30% 0%, rgba(255,255,255,.85), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.55), transparent 40%);
  opacity:.85;
  pointer-events:none;
}

/* ‚úÖ Mant√©m o conte√∫do acima das camadas */
.card > *{
  position:relative;
  z-index:2;
}

/* ‚úÖ Hover: levanta o card (relevo + profundidade) */
@media (hover:hover){
  .card:hover{
    transform:translateY(-4px) scale(1.003);
    box-shadow:
      0 55px 120px rgba(2,6,23,.40),
      0 22px 52px rgba(2,6,23,.22),
      0 4px 14px rgba(2,6,23,.14),
      inset 0 2px 0 rgba(255,255,255,.95),
      inset 0 -16px 30px rgba(2,6,23,.09);
  }
}





    /* topo: SOMENTE a imagem Feliz 2026 */
    .top-row{
      display:flex;
      align-items:center;
      justify-content:center;
      margin-bottom:clamp(6px, 1.4vh, 12px);
      transform:translateZ(40px);
      flex:0 0 auto;
    }
    .year-only{
      width:min(340px, 75vw);
      height:auto;
      display:block;
      border-radius:14px;
    }

    .card-title{
      font-size:clamp(18px, 2.4vh, 26px);
      line-height:1.2;
      font-weight:900;
      margin:clamp(4px, 1vh, 10px) 0 clamp(6px, 1.2vh, 10px);
      transform:translateZ(40px);
      flex:0 0 auto;
    }

    /* brilho do texto SEM VAZAR */
    .shine-text{
      position:relative;
      display:inline-block;
      overflow:hidden;
      background:linear-gradient(120deg,#b91c1c,#f97316,#facc15,#b91c1c);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      padding-bottom:2px;
    }
    .shine-text::after{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.9) 45%, transparent 60%);
      transform:translateX(-120%) skewX(-18deg);
      animation:shineMove 8.5s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes shineMove{
      0%{transform:translateX(-130%) skewX(-18deg)}
      40%{transform:translateX(130%) skewX(-18deg)}
      100%{transform:translateX(130%) skewX(-18deg)}
    }

    .card-subtitle{
      font-size:clamp(12px, 1.6vh, 14px);
      color:var(--text-soft);
      margin-bottom:clamp(8px, 1.4vh, 14px);
      transform:translateZ(40px);
      flex:0 0 auto;
    }

    .card-message{
      font-size:clamp(12px, 1.55vh, 14px);
      line-height:1.62;
      color:var(--text-main);
      transform:translateZ(40px);
      flex:1 1 auto;

      /* ‚úÖ se o texto ficar muito grande em telas baixas, ele ‚Äúcompacta‚Äù
         sem criar scroll na p√°gina. (E sem barra de scroll do body) */
      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp: 10;
      -webkit-box-orient: vertical;
    }
    .card-message strong{ color:var(--swiss-red); font-weight:800; }

    .divider{
      height:1px;
      margin:clamp(8px, 1.6vh, 18px) 0 clamp(6px, 1.2vh, 12px);
      background:linear-gradient(90deg, rgba(148,163,184,0), rgba(148,163,184,.9), rgba(148,163,184,0));
      opacity:.9;
      transform:translateZ(40px);
      flex:0 0 auto;
    }

    .signature{
      font-size:clamp(12px, 1.5vh, 14px);
      color:var(--text-soft);
      display:flex;
      flex-direction:column;
      gap:4px;
      margin-bottom:clamp(8px, 1.2vh, 12px);
      transform:translateZ(40px);
      flex:0 0 auto;
    }
    .signature span:first-child{
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.18em;
      font-size:clamp(10px, 1.2vh, 12px);
      color:var(--swiss-red);
    }
    .signature small{
      font-size:clamp(11px, 1.4vh, 13px);
      color:#6b7280;
    }

   .brand-shine{
  position:relative;
  overflow:hidden;
  border-radius:18px;
  border:1px solid rgba(148,163,184,.7);
  box-shadow:0 20px 40px rgba(15,23,42,.22), 0 0 0 1px rgba(255,255,255,.7);
  background:#fff;
  transform:translateZ(40px);
  margin-top:12px;
}

/* ‚úÖ ZOOM + DESTAQUE DO TEXTO DO LOGO */
.brand-shine img{
  width:100%;
  height:clamp(110px, 16vh, 190px); /* um pouco maior */
  object-fit:contain;               /* n√£o corta */
  padding:10px;
  background:#fff;

  /* üî• AQUI √© o "zoom" (aumente/diminua) */
  transform:scale(2.7);
  transform-origin:center;

  /* ‚ú® Destaque nas palavras */
  filter:contrast(1.18) brightness(1.02)
         drop-shadow(0 12px 22px rgba(15,23,42,.18))
         drop-shadow(0 2px 0 rgba(0,0,0,.08));
}

    .brand-shine::after{
      content:"";
      position:absolute;
      top:0;
      left:-120%;
      width:120%;
      height:100%;
      background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.65) 50%, transparent 70%);
      animation:brandShine 10s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes brandShine{
      0%{left:-130%}
      45%{left:130%}
      100%{left:130%}
    }

    .music-controls{
      margin-top:clamp(8px, 1.2vh, 14px);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      transform:translateZ(40px);
      flex:0 0 auto;
    }

    .music-button{
      border:none; outline:none;
      padding:10px 18px;
      border-radius:999px;
      font-size:12px;
      font-weight:900;
      letter-spacing:.14em;
      text-transform:uppercase;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      background:radial-gradient(circle at top,#fee2e2 0,#fecaca 40%,#f97373 100%);
      color:#7f1d1d;
      box-shadow:0 10px 18px rgba(0,0,0,.35), 0 0 16px rgba(252,165,165,.9);
      transition:transform .12s ease-out, box-shadow .12s ease-out, filter .12s ease-out;
    }
    .music-button:hover{
      transform:translateY(-1px);
      filter:brightness(1.04);
      box-shadow:0 16px 26px rgba(0,0,0,.45), 0 0 22px rgba(252,165,165,1);
    }
    .music-button:active{
      transform:translateY(1px) scale(.98);
      box-shadow:0 6px 12px rgba(0,0,0,.45), 0 0 12px rgba(252,165,165,.7);
    }

    .music-status{
      font-size:12px;
      color:#6b7280;
      text-align:right;
      flex:1;
      min-width:130px;
    }
    .music-status span{color:var(--swiss-red);font-weight:700}

    /* Mobile: envelope melhor e card sempre encaixado */
    @media (max-width:520px){
      .scene-wrapper{padding:12px}
      .year-only{width:min(280px, 82vw)}
      .music-button{width:100%; justify-content:center}
      .music-status{width:100%; text-align:center}
    }

    @media (prefers-reduced-motion: reduce){
      .shine-text::after,
      .brand-shine::after{
        animation:none !important;
      }
    }

/* ===========================
   AJUSTE DEFINITIVO MOBILE
   =========================== */
@media (max-width: 480px){

  /* Card cabe 100% na tela */
  .card{
    max-height: calc(100svh - 16px);
    padding: 14px 14px;
    border-radius: 22px;
  }

  /* Imagem 2026 menor */
  .year-only{
    width: 220px;
    margin-bottom: 6px;
  }

  /* T√≠tulo */
  .card-title{
    font-size: 18px;
    margin: 6px 0 6px;
  }

  /* Subt√≠tulo */
  .card-subtitle{
    font-size: 13px;
    margin-bottom: 8px;
  }

  /* Texto principal MAIS COMPACTO */
  .card-message{
    font-size: 13px;
    line-height: 1.55;
  }

  /* Linha divis√≥ria mais pr√≥xima */
  .divider{
    margin: 10px 0 8px;
  }

  /* Assinatura mais enxuta */
  .signature{
    font-size: 12px;
    margin-bottom: 8px;
  }

  /* Logo Edel White menor */
  .brand-shine img{
    height: 100px;
    transform: scale(1.4);
  }

  /* Bot√£o ocupa menos altura */
  .music-button{
    padding: 10px;
    font-size: 11px;
  }

  /* Status centralizado */
  .music-status{
    font-size: 11px;
    text-align: center;
  }
}



  </style>
</head>

<body>
  <canvas id="fireworksCanvas"></canvas>
  <div class="stars"></div>

  <div class="scene-wrapper">
    <!-- ENVELOPE -->
    <div class="envelope-container" id="envelopeContainer">
      <div class="envelope" id="envelope">
        <div class="envelope-base"></div>
        <div class="envelope-paper"></div>
        <div class="envelope-flap">
          <div class="swiss-cross"></div>
        </div>
      </div>
      <button class="envelope-button" id="openButton">‚úâÔ∏è ABRIR</button>
    </div>

    <!-- CARD -->
    <div class="card-wrapper" id="cardWrapper">
      <div class="card" id="card3D">
        <!-- TOPO: somente Feliz 2026 -->
        <div class="top-row">
          <img src="IMG/happy2026.png" alt="Feliz 2026" class="year-only">
        </div>

        <h1 class="card-title">
          <span class="shine-text">Em 2026, a Edel White vem de cara nova.</span>
        </h1>

        <p class="card-subtitle">
          Um novo cap√≠tulo: design renovado, novas experi√™ncias e novos produtos ‚Äî com o mesmo padr√£o su√≠√ßo que cuida do seu sorriso.
        </p>

        <p class="card-message">
          Neste novo ciclo, apresentamos uma Edel White ainda mais premium: <strong>novas embalagens</strong>, <strong>novos detalhes</strong> e
          <strong>novidades no portf√≥lio</strong> para elevar sua rotina de cuidados.
          <br><br>
          Nosso compromisso permanece: entregar solu√ß√µes com excel√™ncia e tecnologia, pensadas para a
          <strong>sa√∫de bucal</strong> e para a <strong>longevidade do seu sorriso</strong> ‚Äî do jeito su√≠√ßo: preciso, confi√°vel e feito para durar.
          <br><br>
          <strong>Obrigado por fazer parte do nosso ano</strong> e por caminhar conosco nessa hist√≥ria.
          Em 2026, voc√™ pode esperar <strong>coisas novas</strong>, experi√™ncias ainda mais especiais e um cuidado que acompanha cada fase da sua vida.
          <br><br>
          Desejamos um novo ano repleto de sa√∫de, conquistas e muitos motivos para sorrir com quem voc√™ ama.
        </p>

        <div class="divider"></div>

        <div class="signature">
          <span>Edel White Brasil</span>
          <small>
            Com carinho, celebramos sua confian√ßa e seguimos ao seu lado para que cada cap√≠tulo do seu ano seja vivido com um sorriso protegido.
          </small>
        </div>

        <!-- IMAGEM EDEL WHITE SWISS COM BRILHO -->
        <div class="brand-shine">
          <img src="IMG/novologo.png" alt="Edel White Swiss">
        </div>

        <div class="music-controls">
          <button class="music-button" id="musicToggle">üéµ Tocar m√∫sica</button>
          <div class="music-status" id="musicStatus">M√∫sica: <span>desligada</span></div>
        </div>
      </div>
    </div>
  </div>

  <audio id="bgMusic" src="music/celebration.mp3" loop></audio>

  <script>
    // ABRIR ENVELOPE / MOSTRAR CARTA / FOGOS
    (function () {
      const envelope = document.getElementById("envelope");
      const envelopeContainer = document.getElementById("envelopeContainer");
      const openBtn = document.getElementById("openButton");
      const cardWrapper = document.getElementById("cardWrapper");
      let opened = false;

      openBtn.addEventListener("click", () => {
        if (opened) return;
        opened = true;

        envelope.classList.add("opened");

        setTimeout(() => {
          envelopeContainer.classList.add("opened");
          cardWrapper.classList.add("visible");
          if (window.startFireworks) window.startFireworks();
        }, 700);
      });
    })();

    // M√öSICA PLAY/PAUSE
    (function () {
      const audio = document.getElementById("bgMusic");
      const btn = document.getElementById("musicToggle");
      const statusSpan = document.getElementById("musicStatus").querySelector("span");
      let isPlaying = false;

      btn.addEventListener("click", async () => {
        try {
          if (!isPlaying) {
            await audio.play();
            isPlaying = true;
            btn.textContent = "‚è∏ Pausar m√∫sica";
            statusSpan.textContent = "tocando";
          } else {
            audio.pause();
            isPlaying = false;
            btn.textContent = "üéµ Tocar m√∫sica";
            statusSpan.textContent = "desligada";
          }
        } catch (err) {
          console.error("Erro ao reproduzir √°udio:", err);
          statusSpan.textContent = "erro ao tocar";
        }
      });
    })();

    // ‚úÖ FOGOS (MAIORES / MAIS ALTOS / MAIS √ÅREA)
    (function () {
      const canvas = document.getElementById("fireworksCanvas");
      const ctx = canvas.getContext("2d");

      let width = window.innerWidth;
      let height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;

      window.addEventListener("resize", () => {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
      });

      const fireworks = [];
      const particles = [];
      let fireworksEnabled = false;

      class Firework {
        constructor(x, y, targetY, color) {
          this.x = x;
          this.y = y;
          this.targetY = targetY;
          this.speed = (Math.random() * 4) + 9; // ‚úÖ mais r√°pido (sobe mais)
          this.angle = -Math.PI / 2;
          this.vx = Math.cos(this.angle) * this.speed;
          this.vy = Math.sin(this.angle) * this.speed;
          this.color = color;
          this.trail = [];
          this.done = false;
        }
        update() {
          this.trail.push({ x: this.x, y: this.y });
          if (this.trail.length > 16) this.trail.shift(); // ‚úÖ rastro maior
          this.x += this.vx;
          this.y += this.vy;
          this.vy += 0.06;

          if (this.vy >= 0 || this.y <= this.targetY) {
            this.explode();
            this.done = true;
          }
        }
        explode() {
          const count = 90 + Math.floor(Math.random() * 50); // ‚úÖ mais part√≠culas
          for (let i = 0; i < count; i++) {
            const angle = (Math.PI * 2 * i) / count;
            const speed = Math.random() * 4.2 + 2.4;       // ‚úÖ explos√£o maior
            particles.push(new Particle(this.x, this.y, angle, speed, this.color));
          }
        }
        draw() {
          ctx.beginPath();
          const last = this.trail[0];
          ctx.moveTo(this.x, this.y);
          if (last) ctx.lineTo(last.x, last.y);
          ctx.strokeStyle = this.color;
          ctx.lineWidth = 2.6; // ‚úÖ rastro mais grosso
          ctx.stroke();
        }
      }

      class Particle {
        constructor(x, y, angle, speed, color) {
          this.x = x;
          this.y = y;
          this.vx = Math.cos(angle) * speed;
          this.vy = Math.sin(angle) * speed;
          this.friction = 0.975;
          this.gravity = 0.075;
          this.color = color;
          this.opacity = 1;
          this.decay = Math.random() * 0.012 + 0.006; // ‚úÖ dura mais
          this.size = Math.random() * 2.6 + 1.1;      // ‚úÖ part√≠culas maiores
        }
        update() {
          this.vx *= this.friction;
          this.vy *= this.friction;
          this.vy += this.gravity;
          this.x += this.vx;
          this.y += this.vy;
          this.opacity -= this.decay;
        }
        draw() {
          ctx.save();
          ctx.globalAlpha = this.opacity;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fillStyle = this.color;
          ctx.fill();
          ctx.restore();
        }
      }

      function randomColor() {
        const colors = ["#f97373","#fed7aa","#facc15","#bfdbfe","#fecaca","#bbf7d0","#fda4af","#c4b5fd"];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      let lastLaunch = 0;
      const launchInterval = 420; // ‚úÖ mais frequente

      function animate(timestamp) {
        requestAnimationFrame(animate);
        ctx.globalCompositeOperation = "source-over";
        ctx.clearRect(0, 0, width, height);
        if (!fireworksEnabled) return;

        // ‚úÖ ‚Äúcauda‚Äù suave no fundo (mais limpo, mas com rastro bonito)
        ctx.globalCompositeOperation = "destination-out";
        ctx.fillStyle = "rgba(0,0,0,0.18)";
        ctx.fillRect(0, 0, width, height);

        ctx.globalCompositeOperation = "lighter";

        if (!lastLaunch || timestamp - lastLaunch >= launchInterval) {
          // ‚úÖ cobre mais √°rea horizontal e sobe mais alto
          const startX = Math.random() * width; // toda a largura
          const targetY = Math.random() * height * 0.22 + height * 0.04; // bem mais alto (4% a 26%)
          fireworks.push(new Firework(startX, height + 20, targetY, randomColor()));
          lastLaunch = timestamp;
        }

        for (let i = fireworks.length - 1; i >= 0; i--) {
          fireworks[i].update();
          fireworks[i].draw();
          if (fireworks[i].done) fireworks.splice(i, 1);
        }

        for (let i = particles.length - 1; i >= 0; i--) {
          particles[i].update();
          particles[i].draw();
          if (particles[i].opacity <= 0) particles.splice(i, 1);
        }
      }

      requestAnimationFrame(animate);

      window.startFireworks = function () {
        fireworksEnabled = true;
        lastLaunch = 0;
      };
    })();
  </script>
</body>
</html>
